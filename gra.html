<html>

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <title>kolko</title>


    <script>


        plansza = [ 
            [null, null, null],
            [null, null, null], 
            [null, null, null] 
        ]


        var count = 0;
        var x = 0;
        var o = 0;
        function klik(place) {

            
            kolumna = parseInt( (place/3)-0.1 )
            wiersz = (place-1)%3









            count = count + 1;
            if (count <= 9) {
                if (count % 2 == 0) {
                    document.getElementById(place).src = "x_sign.png";
                    document.getElementById("td_" + place).removeAttribute("onclick");
                    x = x + place;

                    place = "td_"+place
                    document.getElementById(place).className = "xtd";

                    plansza[kolumna][wiersz] = "x"

                }
                else {
                    document.getElementById(place).src = "o_sign.png";
                    document.getElementById("td_" + place).removeAttribute("onclick");
                    o = o + place;


                    place = "td_"+place
                    // console.log(place)
                    document.getElementById(place).className = "otd";

                    plansza[kolumna][wiersz] = "o"
                }


                console.log(plansza)
            }



            for(i=0; i<3; i++){
                for(j=0; j<3; j++){
                    console.log(plansza[i][j])
                }
            }





            

            // if (o == 15) {
            //     open_modal();
            //     document.getElementById('won').innerHTML = "gracz o wygral";
            // }
            // if (x == 15) {
            //     open_modal();
            //     document.getElementById('won').innerHTML = "gracz x wygral";
            // }



        }

        function open_modal() {
            const dialog = document.querySelector("dialog");
            dialog.showModal();
        }

        function close_modal() {
            const dialog = document.querySelector("dialog");
            dialog.close();
            location.reload();
        }


        function zmienO(){

            ok = document.getElementsByClassName('otd')

            for (var i = 0; i < ok.length; i++) {
                ok[i].style.backgroundColor = "#bf0097";
            }
        }   
        
        function zmienX(){

            ok = document.getElementsByClassName('xtd')

            for (var i = 0; i < ok.length; i++) {
                ok[i].style.backgroundColor = "#40ff68";
            }
        }


        function sprawdz(komorka){
            if(komorka==0){
                console.log(plansza[0][0])
            }else if(komorka==1){
                console.log(plansza[0][1])
            }else if(komorka==2){
                console.log(plansza[0][2])
            }else if(komorka==3){
                console.log(plansza[1][0])
            }
            
        }




    </script>
</head>

<body>
    <div class="center">
        <dialog>
            <p id="won"></p>
            <button onclick="close_modal()">zamknij</button>
        </dialog>
        <table>
            <tr>
                <td onclick="klik(1)" id="td_1">
                    <img src="blank.png" id="1">
                </td>
                <td onclick="klik(2)" id="td_2">
                    <img src="blank.png" id="2">
                </td>
                <td onclick="klik(3)" id="td_3">
                    <img src="blank.png" id="3">
                </td>
            </tr>
            <tr>
                <td onclick="klik(4)" id="td_4">
                    <img src="blank.png" id="4">
                </td>
                <td onclick="klik(5)" id="td_5">
                    <img src="blank.png" id="5">
                </td>
                <td onclick="klik(6)" id="td_6">
                    <img src="blank.png" id="6">
                </td>
            </tr>
            <tr>
                <td onclick="klik(7)" id="td_7">
                    <img src="blank.png" id="7">
                </td>
                <td onclick="klik(8)" id="td_8">
                    <img src="blank.png" id="8">
                </td>
                <td onclick="klik(9)" id="td_9">
                    <img src="blank.png" id="9">
                </td>
            </tr>
        </table>
    </div>

    <button onclick="zmienO()">zmien o</button>
    <button onclick="zmienX()">zmien x</button>


    <button onclick="sprawdz(0)">spr 0</button>
    <button onclick="sprawdz(1)">spr 1</button>
    <button onclick="sprawdz(2)">spr 2</button>
    <button onclick="sprawdz(3)">spr 3</button>


</body>

</html>